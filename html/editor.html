<html>

<head>
    <link rel="stylesheet" href="../css/nouislider.css">

</head>

<body>
    <product-edit-component style="display:block;0:display;display:block;" _nghost-c21="" class="ng-tns-c21-28 ng-trigger ng-trigger-fadeInAnimation ng-star-inserted">
        <notice-bar-component _ngcontent-c21="" class="c-product-edit__notice-bar ng-tns-c7-29" _nghost-c7="">
            <!---->
        </notice-bar-component>
        <div _ngcontent-c21="" class="c-product-edit">
            <!---->
            <error-bar-component _ngcontent-c21="" class="c-error-bar c-product-edit__error-bar ng-tns-c8-30" _nghost-c8="">
                <!---->
            </error-bar-component>
            <!---->
            <div _ngcontent-c21="" class="c-product-edit__header ng-tns-c21-28 ng-star-inserted" style="">
                <button _ngcontent-c21="" class="c-product-edit__header__back-link c-btn c-btn--bare c-text-m">
                    <svg _ngcontent-c21="" class="c-icon c-product-edit__header__back-link__icon">
                        <use _ngcontent-c21="" class="ng-tns-c21-28" xlink:href="#chevron"></use>
                    </svg><span _ngcontent-c21="" class="c-product-edit__header__back-link__text">BACK</span></button>
                <div _ngcontent-c21="" class="ng-tns-c21-28">
                    <!---->
                    <!---->
                </div>
            </div>
            <product-options-component _ngcontent-c21="" class="c-product-edit__options ng-tns-c22-31 ng-tns-c21-28 ng-star-inserted" style="">
                <div class="c-product-options">
                    <div class="c-product-options__tabs">
                        <div class="c-product-options__tab c-product-options__tab--selected" title="Design &amp; Edit">
                            <svg class="c-icon u-center-in-parent c-product-options__tab__icon">
                                <use class="ng-tns-c22-31" xlink:href="#pencil"></use>
                            </svg>
                            <!---->
                        </div>
                        <div class="c-product-options__tab" title="Configure">
                            <svg class="c-icon u-center-in-parent c-product-options__tab__icon">
                                <use class="ng-tns-c22-31" xlink:href="#tune-icon"></use>
                            </svg>
                            <!---->
                        </div>
                        <div class="c-product-options__tab" title="Information">
                            <svg class="c-icon u-center-in-parent c-product-options__tab__icon">
                                <use class="ng-tns-c22-31" xlink:href="#info-form"></use>
                            </svg>
                            <!---->
                        </div>
                    </div>
                    <div class="c-product-options__content">
                        <!---->
                        <product-options-edit-component class="c-product-options__sub-component ng-tns-c22-31 ng-trigger ng-trigger-fadeInAnimation ng-star-inserted" _nghost-c24="" style="">
                            <h2 _ngcontent-c24="" class="c-title-m c-product-options__title">Design &amp; Edit</h2>
                            <div _ngcontent-c24="" class="c-product-options-edit__variants">
                                <!---->
                                <div _ngcontent-c24="" class="c-product-options-edit__variants__colors ng-star-inserted" style="">
                                    <div _ngcontent-c24="" class="c-tool-text-xs c-product-options-edit__variants__title">Select colour</div>
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__edit-all">
                                        <toggle-component _ngcontent-c24="" class="c-product-options-edit__variants__colors__edit-all__toggle" _nghost-c19=""><span _ngcontent-c19="" class="c-toggle-button c-toggle-button--on"><svg _ngcontent-c19="" class="c-icon c-icon--small c-icon--white c-toggle-button__icon c-toggle-button__icon--tick"><use _ngcontent-c19="" xlink:href="#tick-icon"></use></svg><svg _ngcontent-c19="" class="c-icon c-icon--small c-icon--white c-toggle-button__icon c-toggle-button__icon--cross"><use _ngcontent-c19="" xlink:href="#cross-icon"></use></svg><a _ngcontent-c19="" class="c-toggle-button__thumb c-toggle-button__thumb--on"></a></span></toggle-component><span _ngcontent-c24="" class="c-tool-text-xs c-product-options-edit__variants__colors__edit-all__text">Edit all variants</span></div>
                                    <!---->
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn-wrapper ng-star-inserted">
                                        <button _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn c-product-options-edit__variants__colors__btn--selected" aria-label="Select color Black" style="background-color: rgb(0, 0, 0);"></button>
                                    </div>
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn-wrapper ng-star-inserted">
                                        <button _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn" aria-label="Select color Burgundy" style="background-color: rgb(99, 32, 33);"></button>
                                    </div>
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn-wrapper ng-star-inserted">
                                        <button _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn" aria-label="Select color Grey" style="background-color: rgb(155, 156, 160);"></button>
                                    </div>
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn-wrapper ng-star-inserted">
                                        <button _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn" aria-label="Select color Kelly Green" style="background-color: rgb(2, 155, 45);"></button>
                                    </div>
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn-wrapper ng-star-inserted">
                                        <button _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn" aria-label="Select color Khaki" style="background-color: rgb(48, 57, 10);"></button>
                                    </div>
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn-wrapper ng-star-inserted">
                                        <button _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn" aria-label="Select color Navy" style="background-color: rgb(44, 44, 54);"></button>
                                    </div>
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn-wrapper ng-star-inserted">
                                        <button _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn" aria-label="Select color Pink" style="background-color: rgb(255, 104, 132);"></button>
                                    </div>
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn-wrapper ng-star-inserted">
                                        <button _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn" aria-label="Select color Red" style="background-color: rgb(208, 2, 7);"></button>
                                    </div>
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn-wrapper ng-star-inserted">
                                        <button _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn" aria-label="Select color Royal Blue" style="background-color: rgb(61, 79, 120);"></button>
                                    </div>
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn-wrapper ng-star-inserted">
                                        <button _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn" aria-label="Select color Sapphire Blue" style="background-color: rgb(49, 114, 143);"></button>
                                    </div>
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn-wrapper ng-star-inserted">
                                        <button _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn" aria-label="Select color White" style="background-color: rgb(255, 255, 255);"></button>
                                    </div>
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn-wrapper ng-star-inserted">
                                        <button _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn" aria-label="Select color Yellow" style="background-color: rgb(255, 195, 0);"></button>
                                    </div>
                                    <div _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn-wrapper ng-star-inserted">
                                        <button _ngcontent-c24="" class="c-product-options-edit__variants__colors__btn" aria-label="Select color Purple" style="background-color: rgb(63, 22, 57);"></button>
                                    </div>
                                </div>
                                <!---->
                            </div>
                            <side-selector-full-info-component _ngcontent-c24="">
                                <fulfilment-field-control-list-component _nghost-c33="">
                                    <div _ngcontent-c33="" class="c-fulfilment-field-control-list-component">
                                        <div _ngcontent-c33="" class="c-text-s c-fulfilment-field-control-list-component__title">SELECT SIDE</div>
                                        <!---->
                                        <fulfilment-field-control-component _ngcontent-c33="" _nghost-c34="" class="ng-star-inserted" style="">
                                            <div _ngcontent-c34="" class="c-fulfilment-field-control-component c-fulfilment-field-control-component--current-and-open">
                                                <!---->
                                                <div _ngcontent-c34="" class="c-fulfilment-field-control-component__img ng-star-inserted" style="background-image: url(&quot;https://s3.amazonaws.com/kiteshopify/da7a8905-ee6d-444d-a1fa-e330967072ee.jpeg&quot;);"></div>
                                                <!---->
                                                <div _ngcontent-c34="" class="c-fulfilment-field-control-component__field-info ng-star-inserted"><span _ngcontent-c34="" class="c-text-m">Front</span>
                                                    <!---->
                                                </div>
                                                <div _ngcontent-c34="" class="c-fulfilment-field-control-component__buttons-wrapper ng-star-inserted">
                                                    <!---->
                                                    <!---->
                                                    <picture-file-uploader-component _ngcontent-c34="" class="ng-star-inserted">
                                                        <file-uploader-component _nghost-c15="">
                                                            <div _ngcontent-c15="" class="c-file-uploader">
                                                                <button _ngcontent-c34="" class="c-btn c-btn--bare c-fulfilment-field-control-component__button" title="Replace">
                                                                    <svg _ngcontent-c34="" class="c-icon c-fulfilment-field-control-component__button__icon">
                                                                        <use _ngcontent-c34="" xlink:href="#replace"></use>
                                                                    </svg>
                                                                </button>
                                                                <input _ngcontent-c15="" class="c-file-uploader__file-input" type="file" accept="image/jpeg,image/png,image/tiff">
                                                            </div>
                                                        </file-uploader-component>
                                                    </picture-file-uploader-component>
                                                    <button _ngcontent-c34="" class="c-btn c-btn--bare c-fulfilment-field-control-component__button ng-star-inserted" title="Invert">
                                                        <svg _ngcontent-c34="" class="c-icon c-fulfilment-field-control-component__button__icon">
                                                            <use _ngcontent-c34="" xlink:href="#invert-color"></use>
                                                        </svg>
                                                    </button>
                                                    <!---->
                                                </div>
                                                <!---->
                                            </div>
                                        </fulfilment-field-control-component>
                                        <fulfilment-field-control-component _ngcontent-c33="" _nghost-c34="" class="ng-star-inserted" style="">
                                            <div _ngcontent-c34="" class="c-fulfilment-field-control-component">
                                                <!---->
                                                <!---->
                                                <div _ngcontent-c34="" class="c-fulfilment-field-control-component__field-info c-fulfilment-field-control-component__field-info--not-current ng-star-inserted"><span _ngcontent-c34="" class="c-text-m">Back</span>
                                                    <!----><span _ngcontent-c34="" class="c-text-m c-fulfilment-field-control-component__additional-cost ng-star-inserted">($5.00)</span></div>
                                                <div _ngcontent-c34="" class="c-fulfilment-field-control-component__buttons-wrapper ng-star-inserted">
                                                    <!---->
                                                    <picture-file-uploader-component _ngcontent-c34="" class="ng-star-inserted">
                                                        <file-uploader-component _nghost-c15="">
                                                            <div _ngcontent-c15="" class="c-file-uploader">
                                                                <button _ngcontent-c34="" class="c-btn c-btn--bare c-fulfilment-field-control-component__button c-fulfilment-field-control-component__button--plus-icon">
                                                                    <svg _ngcontent-c34="" class="c-icon c-fulfilment-field-control-component__plus-icon">
                                                                        <use _ngcontent-c34="" xlink:href="#plus-icon"></use>
                                                                    </svg>
                                                                </button>
                                                                <input _ngcontent-c15="" class="c-file-uploader__file-input" type="file" accept="image/jpeg,image/png,image/tiff">
                                                            </div>
                                                        </file-uploader-component>
                                                    </picture-file-uploader-component>
                                                    <!---->
                                                </div>
                                                <!---->
                                            </div>
                                        </fulfilment-field-control-component>
                                        <fulfilment-field-control-component _ngcontent-c33="" _nghost-c34="" class="ng-star-inserted" style="">
                                            <div _ngcontent-c34="" class="c-fulfilment-field-control-component">
                                                <div _ngcontent-c34="" class="c-fulfilment-field-control-component__field-info c-fulfilment-field-control-component__field-info--not-current ng-star-inserted"><span _ngcontent-c34="" class="c-text-m">Scale</span></div>

                                                <div id="slider"></div>
                                            </div> 
                                        </fulfilment-field-control-component>
                                        <fulfilment-field-control-component _ngcontent-c33="" _nghost-c34="" class="ng-star-inserted" style="">
                                            <div _ngcontent-c34="" class="c-fulfilment-field-control-component">
                                                <button id="checkout-btn" _ngcontent-c27="" class="c-btn c-btn--bare c-basic-tabs-component__view c-basic-tabs-component__view--selected ng-star-inserted">Checkout</button>
                                            </div>   
                                        </fulfilment-field-control-component>
                                    </div>
                                </fulfilment-field-control-list-component>
                            </side-selector-full-info-component>
                            <!---->
                        </product-options-edit-component>
                        <!---->
                        <!---->
                    </div>
                    <!---->
                </div>
            </product-options-component>
            <!---->
            <div _ngcontent-c21="" class="c-product-edit__options__main ng-tns-c21-28 ng-star-inserted" style="">
                <!---->
                <div _ngcontent-c21="" class="c-product-edit__image-editor-wrapper">
                    <!---->
                    <side-selector-component _ngcontent-c21="" class="c-product-edit__side-selection-tabs">
                        <!---->
                        <basic-tabs-component _nghost-c27="" class="ng-star-inserted">
                            <div _ngcontent-c27="" class="c-basic-tabs-component">
                                <!---->
                                <button _ngcontent-c27="" class="c-btn c-btn--bare c-basic-tabs-component__view c-basic-tabs-component__view--selected ng-star-inserted">Front</button>
                                <button _ngcontent-c27="" class="c-btn c-btn--bare c-basic-tabs-component__view ng-star-inserted">Back</button>
                            </div>
                           
                        </basic-tabs-component>
                    </side-selector-component>
                    <!---->
                    <image-editor-display-component _ngcontent-c21="" class="c-product-edit__image-editor ng-tns-c23-32 ng-tns-c21-28 ng-star-inserted" _nghost-c23="">
                        <div _ngcontent-c23="" class="c-image-editor-display">
                            <!---->
                            <!---->
                            <!-- <canvas-image-on-mask-component _ngcontent-c23="" class="c-image-editor-display__canvas ng-tns-c23-32 ng-star-inserted" _nghost-c29="" style="">
                                <div _ngcontent-c29="" class="canvas-image-on-mask">
                                    <canvas _ngcontent-c29="" class="canvas-image-on-mask__canvas" height="234" width="234"></canvas>
                                </div>
                            </canvas-image-on-mask-component> -->
                            <!---->
                            <!---->
                            <!-- <div _ngcontent-c23="" class="c-image-editor-display__canvas ng-tns-c23-32 ng-star-inserted" style="touch-action: none; user-select: none; -webkit-user-drag: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></div>
                             -->
                            <!---->
                            <!---->
                            <!---->
                            <!---->
                            <!---->
                            <!---->
                            <!---->
                            <!---->
                            <!---->
                            <div id="image-editor-container" class="image-editor-container">
                                <div ng-show="ctrl.loading" id="image-editor-progress-spinner" class="kite-spinner"></div>
                                <canvas ng-hide="ctrl.loading" id="image-editor-canvas-background" class="image-editor-canvas" style="z-index: 1"></canvas>
                                <canvas ng-hide="ctrl.loading" id="image-editor-canvas-foreground" class="image-editor-canvas" style="z-index: 2" ng-mousemove="ctrl.onMouseMove($event)" ng-mousedown="ctrl.onMouseDown($event)" ng-mouseup="ctrl.onMouseUp($event)" ng-mouseleave="ctrl.onMouseUp($event)"></canvas>
                                <div ng-show="ctrl.loading" id="image-editor-progress-spinner" class="progress-spinner"></div>

                            </div>
                        </div>
                    </image-editor-display-component>
                    <print-quality-warning-component _ngcontent-c21="" class="c-product-edit__quality-warning">
                        <quality-warning-component _nghost-c28="">
                            <button _ngcontent-c28="" class="c-btn c-btn--bare c-quality-warning-component">
                                <div _ngcontent-c28="" class="c-text-s c-quality-warning-component__btn-text">Print quality:</div>
                                <!---->
                                <!---->
                                <div _ngcontent-c28="" class="c-text-s c-quality-warning-component__dpi-text--average ng-star-inserted">&nbsp;Average 103 dpi</div>
                                <!---->
                                <svg _ngcontent-c28="" class="c-icon c-quality-warning-component__btn-icon c-quality-warning-component__btn-icon--average">
                                    <use _ngcontent-c28="" xlink:href="#exclamation"></use>
                                </svg>
                            </button>
                        </quality-warning-component>
                    </print-quality-warning-component>
                </div>
            </div>
            <!---->
            <!---->
            <!---->
            <!---->
        </div>
    </product-edit-component>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="../js/lib/nouislider.js"></script>
    <!-- <script src="../js/constants.js"></script>
    <script src="../js/image_preloader.js"></script>
    <script src="../js/example_product.js"></script>
    <script src="../js/product_image.js"></script>
    <script src="../js/modify_products.js"></script>
    <script src="../js/edit.js"></script> -->
    <script src="../js/bundle.js"></script>
    <!-- <script src="http://b177c3ca.ngrok.io/js/bundle.js"></script> -->
    <script>
        // edit();

        function create_link(url) {
            /* create the link element */
            var linkElement = document.createElement('link');

            /* add attributes */
            linkElement.setAttribute('rel', 'stylesheet');
            linkElement.setAttribute('href', url);

            /* attach to the document head */
            document.getElementsByTagName('head')[0].appendChild(linkElement);
        }

        create_link('../css/editor.css')
        create_link('../css/kitely.css')

        window.addEventListener("message", receiveMessage, false);

        function receiveMessage(event) {
            console.log(`Received ${JSON.stringify(event.data)}`)
            if (event.data.product_id) {
                $scope.templateId = event.data.product_id;
                if (event.data.userImageUrl) {
                    $scope.userImageUrl = event.data.userImageUrl;
                }
                edit();
            }
        }

        $(function() {

            // edit();

            var slider = document.getElementById('slider');

            noUiSlider.create(slider, {
                start: [1],
                connect: true,
                range: {
                    'min': 0.3,
                    'max': 3
                }
            });

            function doSomething(values, handle, unencoded, tap, positions) {
                // values: Current slider values (array);
                // handle: Handle that caused the event (number);
                // unencoded: Slider values without formatting (array);
                // tap: Event was caused by the user tapping the slider (boolean);
                // positions: Left offset of the handles (array);
                $scope.scale = parseFloat(values[0]);
                console.log($scope.scale);
                render();
            }

            // Binding signature
            slider.noUiSlider.on('update', doSomething);

            // Binding namespaced events
            slider.noUiSlider.on('set.one', function() {});

            $("#checkout-btn").on('click', function() {
                document.location.href = document.location.href.replace('editor.html', 'checkout.html');
            });
        });
    </script>

</body>

</html>